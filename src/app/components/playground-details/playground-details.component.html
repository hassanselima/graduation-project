<div
  class="row row-cols-1 row-cols-md-2 row-cols-lg-3 m-0 d-flex flex-row-reverse"
>
  <div class="container-fluid p-4 col" *ngFor="let pg of allPGs; let i = index">
    <div class="card shadow border-0 rounded-4">
      <div class="p-3 position-relative">
        <img
          class="card-img"
          [src]="
            pg.playgroundInfo.picture
              ? getImage(pg.playgroundInfo.picture)
              : 'assets/4628fd142082333ed400b2907d918bea.jpeg'
          "
          alt="Card
        image cap"
        />
        <p class="status-text rounded-end-2">
          {{
            pg.playgroundInfo.playground?.isBookable
              ? "قابل للحجز"
              : "غير قابل للحجز"
          }}
        </p>
        <button
          class="btn editPG"
          DarkGreen
          (click)="edit(pg.playgroundInfo.playground?.id)"
        >
          تعديل <span><img src="assets/Pen 2.svg" alt="" /></span>
        </button>
      </div>
      <div
        class="card-body d-flex flex-column justify-content-start gap-3 pt-0"
      >
        <h5 class="card-title text-end">
          {{ pg.playgroundInfo.playground?.name }}
        </h5>
        <div>
          <p class="card-text property-text">:الموقع</p>
          <p
            class="card-text property-text-value d-flex flex-row-reverse text-end"
          >
            <span class="d-flex flex-row gap-1 align-items-end"
              ><span>{{ pg.playgroundInfo.playground?.country }}</span
              >،<span>{{ pg.playgroundInfo.playground?.city }}</span> ،<span>{{
                pg.playgroundInfo.playground?.address
              }}</span>
            </span>
          </p>
        </div>
        <div>
          <p class="card-text property-text">:السعر</p>
          <p
            class="card-text property-text-value d-flex flex-row-reverse gap-1"
          >
            <span> {{ pg.playgroundInfo.playground?.feesForHour }} </span> جنيه
            / ساعة
          </p>
        </div>
        <div>
          <p class="card-text property-text">:وصف الملعب</p>
          <p class="card-text property-text-value">
            {{ pg.playgroundInfo.playground?.description }}
          </p>
        </div>
        <div>
          <p class="card-text property-text">:مقاس الملعب</p>
          <p class="card-text property-text-value custumBG ms-auto">
            {{ pg.playgroundInfo.playground?.type }} X
            {{ pg.playgroundInfo.playground?.type }}
          </p>
        </div>
        <div>
          <p class="card-text property-text">:المميزات</p>
          <div class="d-flex flex-row-reverse flex-wrap gap-2">
            <p
              class="card-text property-text-value custumBG"
              *ngFor="
                let adv of pg.playgroundInfo.playground?.advantages.split(',');
                let i = index
              "
            >
              {{ adv }}
            </p>
          </div>
        </div>
        <div>
          <p class="card-text property-text">:اوقات العمل</p>
          <div
            class="d-flex flex-column flex-lg-row-reverse align-items-center gap-3"
          >
            <input
              type="text"
              class="form-control bg-white text-end"
              [value]="
                formatOpeningHours(
                  pg.playgroundInfo.playground?.openingHours,
                  0
                )
              "
              disabled
            />إلى
            <input
              type="text"
              class="form-control bg-white text-end"
              [value]="
                formatOpeningHours(
                  pg.playgroundInfo.playground?.openingHours,
                  1
                )
              "
              disabled
            />
          </div>
        </div>
        <div>
          <p class="card-text property-text">:ايام العمل</p>
          <div
            class="d-flex flex-row-reverse align-items-center flex-wrap row-gap-1"
          >
            <div
              class="d-flex flex-column align-items-center gap-2 border border-success rounded-2 p-2"
              *ngFor="let day of daysOfWeek; let i = index"
            >
              <form>
                <input
                  type="checkbox"
                  [name]="day[1]"
                  [id]="day[1]"
                  [value]="day[1]"
                  class="form-check-input checkbox shadow-sm d-block mx-auto"
                  [checked]="
                    isDayInHolidays(
                      day[1],
                      pg.playgroundInfo.playground?.holidays
                    )
                  "
                  disabled
                />
                <p>{{ day[0] }}</p>
              </form>
            </div>
          </div>
        </div>
        <div
          class="d-flex justify-content-around py-3 booking-num rounded-2 w-100"
        >
          <div class="d-flex flex-column align-items-center">
            <p class="done-no">{{ pg?.finishedBookings }}</p>
            <p class="done">حجز تم</p>
          </div>
          <div class="d-flex flex-column align-items-center">
            <p class="new-no">-</p>
            <p class="new">حجز حالي</p>
          </div>
          <div class="d-flex flex-column align-items-center">
            <p class="new-no">{{ pg?.newBookings }}</p>
            <p class="new">حجز جديد</p>
          </div>
        </div>
        <button
          class="btn w-75 d-block mx-auto"
          DarkGreen
          (click)="
            changeState(
              pg.playgroundInfo.playground.id,
              pg.playgroundInfo.playground?.isBookable
            )
          "
        >
          {{
            pg.playgroundInfo.playground?.isBookable ? "الغاء التفعيل" : "تفعيل"
          }}
          <span><img src="assets/Power2.svg" alt="" /></span>
        </button>
        <button
          class="btn btn-outline-success d-flex align-items-center justify-content-center w-75 d-block mx-auto"
          (click)="deletePG(pg.playgroundInfo.playground.id)"
        >
          حذف ملعب
          <span><img src="assets/Trash Bin Minimalistic.svg" alt="" /></span>
        </button>
      </div>
    </div>
  </div>
</div>
